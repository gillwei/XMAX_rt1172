$version 11.00

$rect <10,210,250,250>
$output false
class POP08_WeatherLoadingUI : Components::BaseMainBG
{
  $rect <510,60,710,100>
  inherited method ReInit()
  {
    LoadingText.String = Strings::GEN_PLEASE_WAIT;
  }

  $rect <510,20,710,60>
  inherited method Init()
  {
    DeviceInterface::WeatherDevice.SendWeatherInfoRequest();
    DeviceInterface::WeatherDevice.SendVehicleSettingRequest();
  }

  $rect <20,20,160,60>
  object Views::Text LoadingText
  {
    preset Bounds = <10,156,470,187>;
    preset String = Strings::GEN_PLEASE_WAIT;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
  }

  $rect <510,110,710,150>
  object Core::PropertyObserver WeatherLoadingObserver
  {
    preset OnEvent = OnWeatherLoadingUpdateSlot;
    preset Outlet = ^DeviceInterface::WeatherDevice.IsWeatherInfoReceived;
  }

  // This slot method is executed when the associated property observer 'PropertyObserver' \
  // is notified.
  $rect <510,150,710,190>
  slot OnWeatherLoadingUpdateSlot
  {
    if( DeviceInterface::WeatherDevice.IsWeatherInfoReceived )
    {
      ConnectionFailedTimer.Enabled = false;
      Owner.SwitchToDialog( new Weather::WEA01_Main, null, null, null, null, null, null, null, null, null, false );
    }
  }

  $rect <20,20,160,60>
  object Views::Image LoadingAnimation
  {
    preset Bounds = <193,54,287,148>;
    preset Animated = true;
    preset Bitmap = Resource::LoadingAnimation;
  }

  $rect <520,210,710,250>
  object Core::Timer ConnectionFailedTimer
  {
    preset OnTrigger = OnConnectionFailedUpdateSlot;
    preset Period = 20000;
    preset Enabled = true;
  }

  $rect <520,250,720,290>
  slot OnConnectionFailedUpdateSlot
  {
    ConnectionFailedTimer.Enabled = false;
    PresentDialog( new Pop::POP09_POP14_BleConnectionErrorUI, null, null, null, null, null, null, null, null, false );
  }

  $rect <520,300,720,340>
  object Core::SystemEventHandler MotoConConnectionEventHandler
  {
    preset OnEvent = OnMotoConConnectionUpdateEvent;
    preset Event = DeviceInterface::BluetoothDevice.MotoConSystemEvent;
  }

  // This slot method is executed when the associated system event handler 'SystemEventHandler' \
  // receives an event.
  $rect <520,340,720,380>
  slot OnMotoConConnectionUpdateEvent
  {
    var DeviceInterface::MotoConContext MotoConContext = ( DeviceInterface::MotoConContext )MotoConConnectionEventHandler.Context;
    if( Enum::MotoConRxEvent.CONNECTION_STATUS == MotoConContext.RxEvent )
    {
      if( !DeviceInterface::BluetoothDevice.IsMotoconConnected() )
      {
        signal OnConnectionFailedUpdateSlot;
      }
    }
  }
}

$rect <10,260,210,300>
$output false
class POP09_POP14_BleConnectionErrorUI : Components::BaseMainBG
{
  $rect <520,30,720,70>
  inherited method ReInit()
  {
    ConnectionFailedMessage.String = Strings::POP09_CONNECTION_FAILED;
  }

  $rect <20,20,160,60>
  object Views::Text ConnectionFailedMessage
  {
    preset Bounds = <10,49,470,235>;
    preset String = Strings::POP09_CONNECTION_FAILED;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
  }

  $rect <520,80,710,120>
  object Core::Timer CountDownTimer
  {
    preset OnTrigger = OnCountDownTimeoutSlot;
    preset Period = 2000;
    preset Enabled = true;
  }

  $rect <520,130,750,170>
  slot OnCountDownTimeoutSlot
  {
    CountDownTimer.Enabled = false;
    var Application::Application App = (Application::Application)GetRoot();
    if( null != App )
    {
      App.ReturnToLauncher();
    }
  }
}

$rect <10,60,250,100>
$output false
class POP02_ConnectionError : Components::BaseComponent
{
  $rect <10,390,190,430>
  inherited method ReInit()
  {
    ConnectionErrText.String = Strings::POP02_CONNECTION_ERR;
    CheckText.String = Strings::POP02_PLEASE_CHECK;
    UpDownPushButtonSet.UpButtonTitle = Strings::GEN_OK;
    UpDownPushButtonSet.DownButtonTitle = Strings::POP02_DETAILS;
    InvalidateLayout();
  }

  $rect <10,340,190,380>
  inherited method Init()
  {
    trace "Init POP02";
  }

  $rect <10,290,190,330>
  inherited property Bounds = <0,0,480,272>;

  $rect <509,0,689,40>
  inherited method UpdateLayout()
  {
    super( aSize );

    // calculate the margin on the left/right side to make the warning icon and the warning text align horizontal center
    var int32 TextIconGapPixel = 3;
    var int32 TotalWidth = ErrorIcon.Bounds.w + TextIconGapPixel + ConnectionErrText.GetContentArea().w;
    var int32 Margin = ( Bounds.w - TotalWidth ) / 2;

    /* adjust the bounds of IconWarning */
    var int32 Width = ErrorIcon.Bounds.w;
    var rect NewBounds = ErrorIcon.Bounds;
    NewBounds.x1 = Margin;
    NewBounds.x2 = NewBounds.x1 + Width;
    ErrorIcon.Bounds = NewBounds;

    /* adjust the bounds of WarningText */
    Width = ConnectionErrText.Bounds.w;
    NewBounds = ConnectionErrText.Bounds;
    NewBounds.x1 = ErrorIcon.Bounds.x2 + TextIconGapPixel;
    NewBounds.x2 = NewBounds.x1 + Width;
    ConnectionErrText.Bounds = NewBounds;
  }

  $rect <510,50,740,90>
  inherited method OnShortHomeKeyActivated()
  {
    // neglect home key event
  }

  $rect <510,100,740,140>
  inherited method OnLongHomeKeyActivated()
  {
    // neglect home key event
  }

  $rect <20,20,160,60>
  object Views::Rectangle BlackBackground
  {
    preset Bounds = <0,0,480,272>;
    preset Color = #000000FF;
  }

  $rect <20,20,160,60>
  object Views::Text CheckText
  {
    preset Bounds = <10,55,470,89>;
    preset WrapText = false;
    preset String = Strings::POP02_PLEASE_CHECK;
    preset Font = Fonts::NotoSansCjkJpMedium28pt;
  }

  $rect <20,20,160,60>
  object Views::Rectangle TopBar
  {
    preset Bounds = <0,0,480,43>;
    preset Color = #FFF500FF;
  }

  $rect <20,20,160,60>
  object Views::Image ErrorIcon
  {
    preset Bounds = <155,5,191,41>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter, ScaleToFit];
    preset Bitmap = Resource::IconError;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Text ConnectionErrText
  {
    preset Bounds = <144,2,375,43>;
    preset AutoSize = true;
    preset Alignment = Views::TextAlignment[AlignHorzLeft, AlignVertCenter];
    preset String = Strings::POP02_CONNECTION_ERR;
    preset Font = Fonts::NotoSansCjkJpMedium28pt;
    preset Color = #000000FF;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Image ErrorBTIcon
  {
    preset Bounds = <215,105,265,155>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::IconErrorBT;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Image ErrorNavigationIcon
  {
    preset Bounds = <296,105,346,155>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::IconErrorNavigation;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Image ErrorPhoneLockIcon
  {
    preset Bounds = <134,105,184,155>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::IconErrorPhoneLock;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Menu::UpDownPushButtonSet UpDownPushButtonSet
  {
    preset Bounds = <165,176,315,259>;
    preset PassHomeKey = true;
    preset PassMagicKey = true;
    preset DDModeEnabled = true;
    preset OnUpButtonActivated = OnOkButtonActivatedSlot;
    preset OnDownButtonActivated = OnDetailsButtonActivatedSlot;
    preset UpButtonTitle = Strings::GEN_OK;
    preset DownButtonTitle = Strings::POP02_DETAILS;
    preset DownButtonEnabled = true;
  }

  $rect <510,150,750,190>
  slot OnOkButtonActivatedSlot
  {
    var Application::Application App = (Application::Application)GetRoot();
    if( null != App )
    {
      App.SwitchToHome( Enum::HomeType.VEHICLE_INFO );
    }
  }

  $rect <510,200,760,240>
  slot OnDetailsButtonActivatedSlot
  {
    PresentDialog( new Pop::POP07_TROUBLE_SHOOTING, null, null, null, null, null, null, null, null, false );
  }
}

$rect <10,160,260,200>
$output false
class POP07_TROUBLE_SHOOTING : Components::BaseMainBG
{
  $rect <10,290,210,330>
  inherited method ReInit()
  {
    TroubleShootingTitle.String = Strings::POP07_TROUBLE_SHOOTING;
    TroubleShootingText1.String = Strings::POP07_UNLOCK_PHONE;
    TroubleShootingText2.String = Strings::POP07_TURN_ON_BT;
    TroubleShootingText3.String = Strings::POP07_LAUNCH_APP;
  }

  $rect <10,390,240,430>
  inherited method OnShortEnterKeyActivated()
  {
    var Application::Application App = (Application::Application)GetRoot();
    if( null != App )
    {
      App.SwitchToHome( Enum::HomeType.VEHICLE_INFO );
    }
  }

  $rect <10,340,240,380>
  inherited method OnLongHomeKeyActivated()
  {
    var Application::Application App = (Application::Application)GetRoot();
    if( null != App )
    {
      App.SwitchToHome( Enum::HomeType.VEHICLE_INFO );
    }
  }

  $rect <20,20,160,60>
  inherited object BlackBG
  {
    preset Bounds = <0,0,480,272>;
  }

  $rect <20,20,160,60>
  object Views::Image Divider
  {
    preset Bounds = <0,44,480,48>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::SplitLineLarge;
  }

  $rect <20,20,160,60>
  object Views::Image ErrorPhoneLockIcon
  {
    preset Bounds = <10,56,60,106>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::IconErrorPhoneLock;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Image ErrorBTIcon
  {
    preset Bounds = <10,127,60,177>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::IconErrorBT;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Image ErrorNavigationIcon
  {
    preset Bounds = <10,198,60,248>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::IconErrorNavigation;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Text TroubleShootingTitle
  {
    preset Bounds = <10,4,470,41>;
    preset AutoSize = true;
    preset Alignment = Views::TextAlignment[AlignHorzCenter, AlignVertCenter];
    preset String = Strings::POP07_TROUBLE_SHOOTING;
    preset Font = Fonts::NotoSansCjkJpMedium28pt;
    preset Color = #FFFFFFFF;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Text TroubleShootingText1
  {
    preset Bounds = <68,49,440,111>;
    preset AutoSize = false;
    preset Alignment = Views::TextAlignment[AlignHorzLeft, AlignVertCenter];
    preset String = Strings::POP07_UNLOCK_PHONE;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
    preset Color = #FFFFFFFF;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Text TroubleShootingText2
  {
    preset Bounds = <68,120,440,182>;
    preset AutoSize = false;
    preset Alignment = Views::TextAlignment[AlignHorzLeft, AlignVertCenter];
    preset String = Strings::POP07_TURN_ON_BT;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
    preset Color = #FFFFFFFF;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Text TroubleShootingText3
  {
    preset Bounds = <68,191,440,253>;
    preset AutoSize = false;
    preset Alignment = Views::TextAlignment[AlignHorzLeft, AlignVertCenter];
    preset String = Strings::POP07_LAUNCH_APP;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
    preset Color = #FFFFFFFF;
    preset Visible = true;
  }

  $rect <20,20,160,60>
  object Views::Image Divider1
  {
    preset Bounds = <0,115,480,119>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::SplitLineMiddle;
  }

  $rect <20,20,160,60>
  object Views::Image Divider2
  {
    preset Bounds = <0,186,480,190>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::SplitLineMiddle;
  }

  $rect <20,20,160,60>
  object Views::Image Divider3
  {
    preset Bounds = <0,257,480,261>;
    preset Alignment = Views::ImageAlignment[AlignHorzCenter, AlignVertCenter];
    preset Bitmap = Resource::SplitLineMiddle;
  }
}

$rect <10,10,250,50>
$output false
class POP01_PleaseWait : Components::BaseMainBG
{
  $rect <530,110,730,150>
  inherited method ReInit()
  {
    LoadingText.String = Strings::GEN_PLEASE_WAIT; 
  }

  $rect <530,60,730,100>
  inherited method Init()
  {
    trace "Init POP01";

  }

  $rect <530,340,760,380>
  inherited method OnShortHomeKeyActivated()
  {
    var Application::Application App = (Application::Application)GetRoot();
    if( null != App )
    {
      App.SwitchToMeterHome();
    }
  }

  $rect <528,298,758,338>
  inherited method OnLongHomeKeyActivated()
  {
    var Application::Application App = (Application::Application)GetRoot();
    if( null != App )
    {
      App.SwitchToMeterHome();
    }
  }

  $rect <20,20,160,60>
  inherited object BlackBG
  {
    preset Bounds = <0,0,480,272>;
    preset Color = #000000FF;
  }

  $rect <20,20,160,60>
  object Views::Text LoadingText
  {
    preset Bounds = <10,156,470,187>;
    preset String = Strings::GEN_PLEASE_WAIT;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
  }

  $rect <20,20,160,60>
  object Views::Image LoadingAnimation
  {
    preset Bounds = <193,54,287,148>;
    preset Animated = true;
    preset Bitmap = Resource::LoadingAnimation;
  }

  $rect <530,170,750,210>
  object Core::Timer ConnectionFailedTimer
  {
    preset OnTrigger = OnConnectionFailedUpdateSlot;
    preset Period = 0;
    preset Begin = 5000;
    preset Enabled = true;
  }

  $rect <530,220,750,260>
  slot OnConnectionFailedUpdateSlot
  {
    ConnectionFailedTimer.Enabled = false;
    if( null != Owner )
    {
      Owner.SwitchToDialog( new Pop::POP02_ConnectionError, null, null, null, null, null, null, null, null, null, false );
    }
  }

  $rect <780,170,980,210>
  object Core::SystemEventHandler NaviConnectUpdateEventHandler
  {
    preset OnEvent = OnNaviConnectUpdateSlot;
    preset Event = DeviceInterface::NavigationDevice.ConnectStatusUpdateEvent;
  }

  // This slot method is executed when the associated system event handler 'SystemEventHandler' \
  // receives an event.
  $rect <980,170,1180,210>
  slot OnNaviConnectUpdateSlot
  {
    ConnectionFailedTimer.Enabled = false;
    signal NaviAppConnectedSlot;
  }

  $rect <780,300,980,340>
  property slot NaviAppConnectedSlot;

  $reorder LoadingText 2
  $reorder LoadingAnimation 2
}

$rect <10,110,210,150>
$output false
class POP04_Reset : Components::BaseMainBG
{
  $rect <510,90,710,130>
  inherited method ReInit()
  {
    ResetText.String = Strings::GEN_RESET_QUESTION_MARK;
    UpDownPushButtonSet.UpButtonTitle = Strings::GEN_CANCEL;
    UpDownPushButtonSet.DownButtonTitle = Strings::GEN_OK; 
  }

  $rect <20,20,160,60>
  object Views::Text ResetText
  {
    preset Bounds = <10,46,470,170>;
    preset String = Strings::GEN_RESET_QUESTION_MARK;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
  }

  $rect <20,20,160,60>
  object Menu::UpDownPushButtonSet UpDownPushButtonSet
  {
    preset Bounds = <165,176,315,259>;
    preset PassHomeKey = true;
    preset PassMagicKey = true;
    preset OnUpButtonActivated = OnCancelButtonActivatedSlot;
    preset OnDownButtonActivated = OnOkButtonActivatedSlot;
    preset UpButtonTitle = Strings::GEN_CANCEL;
    preset DownButtonTitle = Strings::GEN_OK;
    preset DownButtonEnabled = true;
  }

  $rect <510,250,760,290>
  slot OnOkButtonActivatedSlot
  {
    DeviceInterface::VehicleDevice.SetData( Enum::VehicleTxType.RESET_METER, (uint32)SelectedMeterInfo );
    DismissThisDialog();
  }

  $rect <510,200,760,240>
  slot OnCancelButtonActivatedSlot
  {
    DismissThisDialog();
  }

  $rect <510,150,710,190>
  property Enum::MeterInfo SelectedMeterInfo;

  $rect <20,20,160,60>
  object Views::Image Divider
  {
    preset Bounds = <0,36,480,38>;
    preset Alignment = Views::ImageAlignment[AlignVertBottom, ScaleToFit];
    preset Bitmap = Resource::StatusBarDivider;
  }
}

$rect <10,310,210,350>
$output false
class POP17_AppInitSettingError : Components::BaseMainBG
{
  $rect <20,20,160,60>
  object Views::Text AppInitSettingFailedMessage
  {
    preset Bounds = <10,50,470,236>;
    preset WrapText = true;
    preset String = Strings::POP17_APP_INIT_SETTING_FAILED;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
  }

  $rect <570,80,760,120>
  object Core::Timer CountDownTimer
  {
    preset OnTrigger = OnLauncherScreenUpdateSlot;
    preset Period = 2000;
    preset Enabled = true;
  }

  $rect <760,80,960,120>
  slot OnLauncherScreenUpdateSlot
  {
    CountDownTimer.Enabled = false;
    var Application::Application App = (Application::Application)GetRoot();
    if( null != App )
    {
      App.ReturnToLauncher();
    }
  }
}

$rect <280,10,480,50>
$output false
class POP03_HomeOfficeSettingError : Components::BaseMainBG
{
  $rect <20,20,160,60>
  object Views::Text HomeOfficeSettingFailedMessage
  {
    preset Bounds = <10,50,470,236>;
    preset WrapText = true;
    preset String = "";
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
  }

  $rect <570,80,760,120>
  object Core::Timer CountDownTimer
  {
    preset OnTrigger = OnLauncherScreenUpdateSlot;
    preset Period = 2000;
    preset Enabled = true;
  }

  $rect <760,80,960,120>
  slot OnLauncherScreenUpdateSlot
  {
    CountDownTimer.Enabled = false;
    signal ReturnToNaviHomeSlot;
  }

  $rect <570,150,770,190>
  property string ErrorMessage;

  $rect <570,190,770,230>
  onset ErrorMessage
  {
    if( pure ErrorMessage != value )
    {
      // Remember the property's new value.
      pure ErrorMessage = value;
      HomeOfficeSettingFailedMessage.String = ErrorMessage;
    }
  }

  $rect <20,20,160,60>
  object Views::Image Divider
  {
    preset Bounds = <0,36,480,38>;
    preset Alignment = Views::ImageAlignment[AlignVertBottom, ScaleToFit];
    preset Bitmap = Resource::StatusBarDivider;
  }

  $rect <570,250,770,290>
  property slot ReturnToNaviHomeSlot;
}

$rect <280,60,480,100>
$output false
class POP16_NaviLoadingUI : Core::Group
{
  $rect <0,250,200,290>
  inherited property Bounds = <0,0,480,234>;

  $rect <20,20,160,60>
  object Views::Image NaviLoadingMainBottom
  {
    preset Bounds = <0,144,480,234>;
    preset Bitmap = Resource::MainBG;
  }

  $rect <20,20,160,60>
  object Views::Rectangle NaviLoadingBlackBG
  {
    preset Bounds = <0,0,480,144>;
    preset Color = #000000FF;
  }

  $rect <20,20,160,60>
  object Views::Text NaviLoadingText
  {
    preset Bounds = <10,118,470,149>;
    preset String = Strings::GEN_PLEASE_WAIT;
    preset Font = Fonts::NotoSansCjkJpMedium24pt;
  }

  $rect <20,20,160,60>
  object Views::Image NaviLoadingAnimation
  {
    preset Bounds = <193,18,287,112>;
    preset Animated = false;
    preset Bitmap = Resource::LoadingAnimation;
  }

  $rect <210,250,410,290>
  property bool Animated;

  $rect <210,290,410,330>
  onset Animated
  {
    if( pure Animated != value )
    {
      pure Animated = value;
      NaviLoadingAnimation.Animated = value;
    }
  }
}
